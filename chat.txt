def show_scanner_config():
    """ä¼˜åŒ–åŽçš„ç´§å‡‘åž‹æ‰«æå™¨é…ç½®å±•ç¤º"""
    st.markdown("### ðŸ” Default Scanners Config")
    
    # ä½¿ç”¨é€‰é¡¹å¡ç»„ç»‡å¤§ç±»
    tabs = st.tabs([f"ðŸ“¦ {c.replace('_',' ').title()}" for c in DEFAULT_SCANNERS.keys()])
    
    for tab, (category, scanners) in zip(tabs, DEFAULT_SCANNERS.items()):
        with tab:
            for name, params in scanners.items():
                # ç´§å‡‘åž‹æ ‡é¢˜
                with st.expander(f"ðŸ”§ â€‹**{name}**", expanded=False):
                    if not params:
                        st.caption("No parameters")
                        continue
                    
                    # å‚æ•°åˆ†ç»„æ˜¾ç¤º
                    cols = st.columns([1,3])
                    with cols[0]:
                        # å‚æ•°ç±»åž‹æ ‡è¯†
                        st.markdown(f"`{_get_param_type(params)}`")
                        
                    with cols[1]:
                        # æ™ºèƒ½å‚æ•°æ˜¾ç¤º
                        _show_smart_params(params)

def _get_param_type(params: dict) -> str:
    """è¯†åˆ«å‚æ•°ç±»åž‹"""
    if any(isinstance(v, list) for v in params.values()):
        return "List Config"
    if any(isinstance(v, dict) for v in params.values()):
        return "Nested Config"
    return "Basic Config"

def _show_smart_params(params: dict):
    """æ™ºèƒ½å‚æ•°æ˜¾ç¤ºç»„ä»¶"""
    for k, v in params.items():
        # å¤„ç†é•¿åˆ—è¡¨
        if isinstance(v, list) and len(v) > 3:
            st.markdown(f"**{k}**:")
            with st.expander(f"Show {len(v)} items", False):
                st.write(v[:5] + ["..."] if len(v)>5 else v)
            continue
        
        # å¤„ç†åµŒå¥—å­—å…¸
        if isinstance(v, dict):
            with st.expander(k, False):
                st.json(v)
            continue
            
        # å¸¸è§„æ˜¾ç¤º
        st.markdown(f"`{k}`: {_truncate_value(v)}")

def _truncate_value(value, max_len=30):
    """å€¼æˆªæ–­å¤„ç†"""
    str_val = str(value)
    return str_val[:max_len] + "..." if len(str_val) > max_len else str_val
