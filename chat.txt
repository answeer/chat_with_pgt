import bleach
import numpy as np

def predict(self, data):
    detected_languages = []
    scores = []
    sanitized_data = data
    
    if "HTML" in self.languages['languages']:
        cleaned_data = bleach.clean(data, strip=True)
        if cleaned_data != data:
            detected_languages.append('HTML')
            scores.append(0)
            if self._kwargs.get('sanitize'):
                data = cleaned_data
    
    languages = self.transformer_pipe(data)
    
    for language in languages:
        language_name = language["label"]
        score = round(language["score"], 2)
        
        if score >= self.score_thresh and language_name in self.languages['languages']:
            if self._kwargs.get('sanitize'):
                sanitized_data = self.sanitized_text(data, language_name)
            else:
                sanitized_data = data
            
            detected_languages.append(language_name)
            scores.append(1 - score)
    
    if detected_languages:
        prediction = f"Found executable scripts: {', '.join(detected_languages)}."
        prediction_score = np.mean(scores)
    else:
        prediction = "No executable scripts found."
        prediction_score = 1
    
    return prediction, prediction_score, sanitized_data
