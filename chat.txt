from llm_sanitation.scanners.scanner_base import Scanner
from llm_sanitation.utils.models import *

class Translator(Scanner):
    """
    A Scanner class for translating text between languages.

    This class is designed to translate text from a source language to a target language.
    
    Attributes:
        src_lang (str): The source language code (default is "eng_Latn").
        tgt_lang (str): The target language code (default is "eng_Latn").
    
    Methods:
        format_response() -> None:
            Formats the scanner's response by assigning the translation result to the response dictionary.
    """

    def __init__(self, **kwargs):
        """
        Initializes the Translator scanner with source and target languages.

        Args:
            src_lang (str, optional): The source language code. Defaults to "eng_Latn".
            tgt_lang (str, optional): The target language code. Defaults to "eng_Latn".
        """
        src_lang = kwargs.get("src_lang", "eng_Latn")
        tgt_lang = kwargs.get("tgt_lang", "eng_Latn")

        super().__init__("translator", .8, src_lang=src_lang, tgt_lang=tgt_lang)

    def format_response(self):
        """
        Formats the scanner's response.

        Assigns the translation result to the response dictionary, making it available for further processing or output.
        """
        self.response["prediction"]["translation"] = self.pred[0]
        self.response["sanitized_text"] = self.pred[0]
