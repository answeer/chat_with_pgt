def char_accuracy(gt, ocr):
    # 对齐长度（短文本补空格）
    max_len = max(len(gt), len(ocr))
    gt_pad = gt.ljust(max_len)
    ocr_pad = ocr.ljust(max_len)
    
    # 逐字符比较
    correct_chars = sum(1 for g, o in zip(gt_pad, ocr_pad) if g == o)
    return correct_chars / max_len


def word_accuracy(gt, ocr):
    # 按空白字符分词
    gt_words = gt.split()
    ocr_words = ocr.split()
    
    # 创建词袋（保留顺序）
    word_pairs = list(zip_longest(gt_words, ocr_words, fillvalue=""))
    
    # 统计匹配词
    correct_words = sum(1 for gt_w, ocr_w in word_pairs if gt_w == ocr_w)
    return correct_words / len(gt_words)
